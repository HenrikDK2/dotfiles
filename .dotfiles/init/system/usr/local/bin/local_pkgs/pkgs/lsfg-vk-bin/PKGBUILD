pkgname=lsfg-vk-bin
pkgver=1.0.0
pkgrel=4
pkgdesc="Lossless Scaling Frame Generation on Linux"
arch=("x86_64")
CARCH=("x86_64")
url="https://github.com/PancakeTAS/lsfg-vk"
license=('GPL-3.0-or-later')
depends=(
    'vulkan-icd-loader'
    'gcc-libs'
    'gtk4'
    'libadwaita'
    'hicolor-icon-theme'
)
makedepends=()
provides=("${pkgname%-bin}=$pkgver")
conflicts=("${pkgname%-bin}")
source=("https://github.com/PancakeTAS/lsfg-vk/releases/download/v${pkgver}/lsfg-vk-${pkgver}.$CARCH.tar.zst"
        "LICENSE")
sha256sums=('7e31d6f39da271fbc50ae8a1b092cb874bc6664765d5b7359d38970057f5fcff'
            'cc5470feed66192387f06ae93aed0bd4fefae5a5fd7c1e54a4acf4ea64f1028b')
install=lsfg-vk.install
noextract=("lsfg-vk-${pkgver}.$CARCH.tar.zst")
options=(!strip)

package() {
    cd "$srcdir"

    # unpack the downloaded archive straight into pkgdir
    tar -xpf "lsfg-vk-${pkgver}.$CARCH.tar.zst" --no-same-owner --exclude='.PKGINFO' -C "$pkgdir"

    # license
    install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
